(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[98],{8235:function(e,c,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/comic",function(){return i(9046)}])},9046:function(e,c,i){"use strict";i.r(c),i.d(c,{default:function(){return f}});var n=i(5893),t=i(1679),o=i(7294),a=i(5675),r=i.n(a),s=i(7484),l=i.n(s),m=i(4110),d=i.n(m),u=i(42);l().extend(d());var h=()=>{let[e,c]=(0,o.useState)(null);return(0,o.useEffect)(()=>{new u.ZP("#email-form").addField("#comic-email",[{rule:"required",errorMessage:"Email is required"},{rule:"email",errorMessage:"Write correct email"}]).onSuccess(e=>{e.preventDefault();let i=document.getElementById("comic-email").value;fetch("https://fwd.innopolis.university/api/hw2?email=".concat(encodeURIComponent(i))).then(e=>e.json()).then(e=>fetch("https://fwd.innopolis.university/api/comic?id=".concat(e))).then(e=>e.json()).then(e=>{c(e),document.getElementById("comic-container").classList.remove("none")}).catch(e=>{console.error("Error fetching comic:",e),document.getElementById("comic-container").innerHTML="<p>Failed to load comic. Please try again later.</p>"})})},[]),(0,n.jsx)("section",{className:"comic",id:"comic",children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("h2",{className:"comic__title",children:"Comic"}),(0,n.jsxs)("form",{id:"email-form",className:"comic__form flex",children:[(0,n.jsx)("label",{children:"Enter your Innopolis email:"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{type:"email",id:"comic-email",name:"email",placeholder:"Ex: v.toporkov@innopolis.university",required:!0}),(0,n.jsx)("button",{type:"submit",className:"btn-reset",children:"Get comic"})]})]}),(0,n.jsx)("div",{id:"comic-container",className:"comic__container none",children:e&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h3",{id:"comic-title",className:"comic__container-title",children:e.safe_title}),(0,n.jsx)(r(),{id:"comic-image",className:"comic__container-image",src:e.img,alt:e.alt}),(0,n.jsxs)("p",{id:"comic-date",className:"comic__container-date",children:["Date of publication: ",l()("".concat(e.year,"-").concat(e.month,"-").concat(e.day)).format("MMMM D, YYYY")," (",l()("".concat(e.year,"-").concat(e.month,"-").concat(e.day)).fromNow(),")"]})]})})]})})},f=()=>(0,n.jsx)(t.Z,{children:(0,n.jsx)(h,{})})}},function(e){e.O(0,[664,336,679,888,774,179],function(){return e(e.s=8235)}),_N_E=e.O()}]);